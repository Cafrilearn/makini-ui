#:import hex_color kivy.utils.get_color_from_hex
#:import ScrollEffect  kivy.effects.scroll.ScrollEffect

<UnitCard>:
    radius: 12
    orientation: 'vertical'
    elevation: 5
    padding: [10, 10, 10, 10]
    on_release:
        root.parent.parent.parent.parent.parent.manager.transition.direction = 'left'
        app.root.get_screen('ScienceSubTopicScreen').selected_unit(self, root.unit)

    MDLabel:
        text: root.unit
        font_size: "17sp"
        font_name: "BPoppins"

    MDLabel:
        text: root.unit_description
        adaptive_height: True
        font_name: "RPoppins"
        font_size: "12sp"

    MDGridLayout:
        id: unit_labels
        pos_hint: {'center_x': .5, 'center_y': .5}
        size_hint: 1, 1.3
        cols: 2
        rows: 2
        spacing: [10, 10]
        padding: [10, 10, 10, 20]

        LabelCard:
            label_text: "Engleski"

        LabelCard:
            label_text: "Sienceki"

    MDSeparator:
        color: 0.5, 0.5, 0.5, .2

    MDBoxLayout:
        orientation: "vertical"

        MDFlatButton:
            text: "Explore"
            font_name: "RPoppins"
            font_size: '10sp'
            size_hint_x: .95
            text_color: 0, 0, 0, .7
            radius: [0, 0, 0, 0]
            line_width: 5
            line_color : 0, 0, 0, .9
            radius: "10dp"
            pos_hint: {'center_y': .5, 'center_x': .5}

<ScienceUnitListScreen>:
    name: "ScienceUnitListScreen"

    MDBoxLayout:
        orientation: "vertical"

        MDFloatLayout:
            md_bg_color: hex_color("#00a18d")
            size_hint_y: .4

            MDRectangleFlatIconButton:
                icon: "keyboard-backspace"
                pos_hint: {"center_x": .1, "center_y": .8}
                theme_text_color: "Custom"
                line_color: hex_color("#00a18d")
                font_name: "MPoppins"
                theme_icon_color: "Custom"
                icon_color: 1, 1, 1, 1
                on_release:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'subject-list'

            MDLabel:
                id: subject_title
                font_name: 'BPoppins'
                font_size: '23sp'
                pos_hint: {'center_x': .6, 'center_y': .8}
                color: 1, 1, 1, 1
                line_height: 1.1

            MDLabel:
                id: welcome_message
                font_name: 'RPoppins'
                font_size: '15sp'
                pos_hint: {'center_x': .30, 'center_y': .42}
                size_hint: .45, None
                color: 1, 1, 1, 1
                line_height: 1.1

            Image:
                id: welcome_image
                source: "assets/images/science/science lab.png"
                allow_stretch: True
                pos_hint: {"center_x": .8, "center_y": .5}
                keep_ratio: True
                size_hint: .6, .6

        MDFloatLayout:
            md_bg_color: 1, 1, 1, 1
            size_hint_y: .6

            ScrollView:
                effect_cls: ScrollEffect
                do_scroll_y: True
                do_scroll_x: False
                bar_width: 0

                MDGridLayout:
                    id: unit_list
                    height: self.minimum_height
                    size_hint_y: None
                    row_default_height: 250
                    col_default_width: 160
                    cols: 3
                    spacing: 30, 30
                    padding: 30, 30
